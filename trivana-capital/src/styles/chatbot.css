/* src/styles/chatbot.css - updated for white/green futuristic theme */

/* Design variables */
:root{
  --chat-accent: #06b6d4;
  --chat-accent-2: #10b981;
  --chat-border: rgba(6,182,163,0.12);
  --chat-muted: #667880;
  --chat-bg: #ffffff;
  --chat-text: #052a28;
}

/* Kayak.ai -inspired minimal chat UI */
.chat-wrapper {
  display: flex;
  align-items: center;      /* vertical center */
  justify-content: center;  /* horizontal center */
  padding: 4rem 1rem;       /* keep some top/bottom breathing room */
  min-height: calc(100vh - 80px);
}

.chat-card {
  max-width: 820px;
  width: 100%;
  margin: 0 auto;
  height: 72vh;
  display: flex;
  flex-direction: column;
  padding: 0; /* header + messages + input handle their own padding */
  border-radius: 14px;
  border: 2px solid var(--chat-border); /* clear single-line border */
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,255,253,0.98));
  box-shadow: 0 12px 32px rgba(12,20,24,0.06); /* slightly softer */
  position: relative; /* needed for pseudo elements if any */
}

/* Thin colored accent line on top of the card for a modern look */
.chat-card::before{
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 4px;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  background: linear-gradient(90deg, var(--chat-accent), var(--chat-accent-2));
}

.chat-card-header {
  padding: 18px 24px 10px;
  align-items: center;
  display: flex;
  flex-direction: column;
  gap: 6px;
  text-align: center;
}

/* Make header compact and centered */
.chat-title { 
  color:var(--chat-text); 
  font-weight:700; 
  font-size:20px; 
  margin:0;
}
.chat-subtitle { 
  margin:0; 
  color:var(--chat-muted); 
  font-size:13px; 
  margin-left:8px 
}

.chat-messages {
  padding: 18px 28px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow-y: auto;
  flex: 1 1 auto;
  align-items: stretch; /* allow bubbles to align left/right consistently */
}

/* Center the input area and limit its width */
.chat-input-box {
  max-width: 760px;
  margin: 12px auto 22px;
  padding: 12px 14px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-radius: 12px;
  justify-content: space-between;
}

/* Text input expands to take space; add visible border */
.chat-input-box input,
.chat-input-box .text-input {
  flex: 1 1 auto;
  min-width: 0;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid rgba(10,25,32,0.04);
  background: transparent;
  color: var(--chat-text);
}

/* Place controls (mic, image, send) grouped to the right */
.input-icons, .controls-group {
  display: inline-flex;
  gap: 10px;
  align-items: center;
  margin-left: 12px;
}

/* NEW: Prominent circular mic & photo buttons */
.input-icons .icon-btn,
.input-icons .mic-btn,
.input-icons .image-btn {
  width:56px;
  height:56px;
  border-radius:50%;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(180deg,#ffffff,#f6fffb);
  border: 1px solid rgba(10,25,32,0.06);
  box-shadow: 0 10px 30px rgba(6,24,34,0.06);
  font-size:20px;
  color: #054741;
  cursor: pointer;
  transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
  position: relative;
  padding: 0;
}

.input-icons .icon-btn:hover,
.input-icons .mic-btn:hover,
.input-icons .image-btn:hover {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 20px 46px rgba(6,182,163,0.12);
}

/* Mic specific look: glass + subtle red center when recording */
.input-icons .mic-btn {
  background: linear-gradient(180deg,#e6fffb,#f0fff9);
  color: #065f46;
}
.input-icons .mic-btn .mic-dot {
  width:14px; height:14px; border-radius:50%; background:#065f46; display:inline-block;
}

/* Recording state: red glowing ring and inner square stop icon */
.input-icons .mic-btn.recording {
  background: radial-gradient(circle at 50% 40%, rgba(239,68,68,0.12), transparent 30%), linear-gradient(180deg,#fff0f0,#fff6f6);
  color: #b91c1c;
  box-shadow: 0 18px 44px rgba(239,68,68,0.12), 0 6px 18px rgba(6,24,34,0.04) inset;
  animation: mic-pulse 1.05s infinite ease-in-out;
}
.input-icons .mic-btn.recording:after {
  content: "";
  position: absolute;
  left: -6px; top: -6px; right: -6px; bottom: -6px;
  border-radius: 50%;
  border: 2px solid rgba(239,68,68,0.18);
  filter: blur(4px);
  opacity: 0.9;
}
@keyframes mic-pulse {
  0% { transform: translateY(-2px) scale(1); }
  50% { transform: translateY(-6px) scale(1.04); }
  100% { transform: translateY(-2px) scale(1); }
}

/* Image button: camera badge look with subtle gradient */
.input-icons .image-btn {
  background: linear-gradient(180deg,#fff8f0,#f7fbff);
  color: #0b6b8a;
}
.input-icons .image-btn .camera-frame {
  width:18px; height:14px; border-radius:3px; background: linear-gradient(180deg,#fff,#eaf7ff); display:inline-block; border:1px solid rgba(11,107,138,0.08);
  position: relative;
}
.input-icons .image-btn .camera-frame:before {
  content: ""; position:absolute; right:3px; top:2px; width:6px; height:6px; background:#0b6b8a; border-radius:50%;
}

/* Make send button pill and aligned with icons */
.input-icons .send-btn,
.send-btn {
  min-width:88px;
  height:44px;
  padding: 0 18px;
  border-radius: 999px;
  background: linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));
  color:#fff;
  border:none;
  box-shadow: 0 12px 32px rgba(6,182,163,0.10);
}

/* Richer, more designed Chat UI overrides */
.chat-wrapper {
  padding: 4.5rem 1rem 3.5rem;
  background: radial-gradient(800px 400px at 8% 8%, rgba(16,185,129,0.03), transparent 8%),
              radial-gradient(700px 300px at 92% 92%, rgba(6,182,163,0.02), transparent 6%),
              linear-gradient(180deg,#fbfdfc 0%, #ffffff 100%);
}

.chat-card {
  max-width: 920px;
  width: 100%;
  margin: 0 auto;
  height: 75vh;
  display: flex;
  flex-direction: column;
  padding: 0;
  border-radius: 18px;
  border: 1px solid rgba(6,182,163,0.08);
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(250,255,253,0.96));
  box-shadow: 0 26px 60px rgba(9,20,25,0.08), inset 0 1px 0 rgba(255,255,255,0.6);
  position: relative;
  overflow: hidden;
}

/* decorative left accent strip */
.chat-card::after{
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 6px;
  background: linear-gradient(180deg, var(--chat-accent), var(--chat-accent-2));
  opacity: 0.95;
}

.chat-card-header{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding:18px 28px;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,255,253,0.98));
  border-bottom: 1px solid rgba(6,182,163,0.03);
}

/* avatar */
.chat-avatar{
  width:56px;height:56px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:#fff;background:linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));box-shadow:0 8px 26px rgba(6,182,163,0.12);
}
.chat-title-wrap{display:flex;flex-direction:column;align-items:center}
.chat-title{font-size:20px;color:var(--chat-text);font-weight:800}
.chat-subtitle{font-size:13px;color:var(--chat-muted);margin-top:4px}

/* messages */
.chat-messages{padding:22px 32px;display:flex;flex-direction:column;gap:16px;overflow-y:auto;flex:1 1 auto}
.chat-messages .section-divider{height:1px;background:linear-gradient(90deg,transparent,#eefaf7,transparent);margin:6px 0}

/* bubble detail: glass + depth + tail */
.bubble{position:relative;padding:14px 18px;border-radius:14px;font-size:15px;line-height:1.45;box-shadow:0 18px 44px rgba(6,24,34,0.06)}
.bot-bubble{background:linear-gradient(180deg,rgba(255,255,255,0.98),#f8fffd);border:1px solid rgba(6,182,163,0.04);color:var(--chat-text);align-self:flex-start;margin-right:auto}
.bot-bubble:before{content:"";position:absolute;left:-8px;bottom:8px;width:20px;height:20px;background:linear-gradient(180deg,rgba(255,255,255,0.98),#f8fffd);transform:rotate(30deg);border-radius:3px;box-shadow:0 6px 12px rgba(6,24,34,0.03)}
.user-bubble{background:linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));color:#fff;align-self:flex-end;margin-left:auto}
.user-bubble:before{content:"";position:absolute;right:-8px;bottom:8px;width:20px;height:20px;background:linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));transform:rotate(-30deg);border-radius:3px;box-shadow:0 8px 18px rgba(6,182,163,0.06)}

.bubble .meta{display:block;margin-top:8px;font-size:12px;color:rgba(3,18,18,0.35)}

/* images and audio */
.bubble-image{max-width:480px;border-radius:12px;box-shadow:0 24px 60px rgba(6,24,34,0.08)}
.bubble-audio{width:320px}

/* input area centered with larger controls */
.chat-input-box{max-width:760px;margin:18px auto;padding:14px 16px;display:flex;align-items:center;gap:12px;background:linear-gradient(180deg,rgba(255,255,255,0.99),#fbfffe);border-radius:12px;border:1px solid rgba(6,182,163,0.04);box-shadow:0 12px 36px rgba(6,24,34,0.04)}
.chat-input-box .text-input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(10,25,32,0.04);background:transparent;color:var(--chat-text);font-size:15px}

/* grouped buttons on right with hover glow */
.input-icons{display:inline-flex;gap:10px;align-items:center}
.input-icons .icon-btn{width:48px;height:48px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;background:#fff;border:1px solid rgba(10,25,32,0.04);box-shadow:0 12px 30px rgba(6,24,34,0.06);cursor:pointer;transition:transform .14s,box-shadow .14s}
.input-icons .icon-btn:hover{transform:translateY(-4px);box-shadow:0 22px 50px rgba(6,182,163,0.12)}

/* fancy send with animated icon */
.send-btn{min-width:96px;height:48px;border-radius:999px;background:linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));color:#fff;font-weight:800;border:none;display:inline-flex;align-items:center;justify-content:center;gap:10px;box-shadow:0 20px 50px rgba(6,182,163,0.12);transition:transform .12s,box-shadow .12s}
.send-btn:hover{transform:translateY(-3px);box-shadow:0 28px 66px rgba(6,182,163,0.18)}
.send-btn .send-icon{display:inline-block;transform:translateY(0);transition:transform .12s}
.send-btn:active .send-icon{transform:translateY(1px) rotate(6deg)}

/* floating helper - small CTA */
.floating-helper{position:absolute;right:18px;bottom:18px;background:linear-gradient(90deg,var(--chat-accent),var(--chat-accent-2));color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 18px 46px rgba(6,182,163,0.12);cursor:pointer}

/* Ensure inline SVG icons in buttons display consistently */
.input-icons .icon-btn svg,
.input-icons .mic-btn svg,
.input-icons .image-btn svg,
.send-btn svg {
  width: 20px;
  height: 20px;
  display: block;
}

/* Make SVG shapes inherit the button color for easy themeing */
.input-icons .icon-btn svg path,
.input-icons .icon-btn svg circle,
.input-icons .icon-btn svg rect,
.send-btn svg path,
.send-btn svg rect {
  fill: currentColor !important;
}

/* Hide legacy camera-frame span when inline SVG is used */
.input-icons .camera-frame { display: none !important; }

/* Specific image button color and subtle hover lift */
.input-icons .image-btn { color: #0b6b8a; }
.input-icons .image-btn:hover { transform: translateY(-6px) scale(1.03); }

/* Small screens adjustments */
@media (max-width:820px) {
  .chat-card { height: calc(100vh - 140px); max-width: 96%; }
  .chat-messages { padding: 14px; }
  .chat-input-box { margin: 12px; padding: 12px; }
}

@media (max-width: 520px) {
  .chat-input-box { flex-direction: column; gap:10px; padding:10px; }
  .chat-input-box input { width:100%; }
  .input-icons { width:100%; justify-content: center; }
  .input-icons .send-btn { margin-left:0; }
}

@media (max-width: 420px) {
  .chat-card {
    border-radius: 10px;
  }

  .chat-messages {
    max-height: 50vh;
    padding: 0.4rem;
  }

  .chat-input-box input {
    font-size: 14px;
  }
}

@media (max-width:820px){
  .chat-card{height:calc(100vh - 120px);border-radius:14px}
  .bubble-image{max-width:320px}
  .bubble-audio{width:260px}
  .chat-input-box{max-width:92%}
}
